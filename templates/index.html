{% extends 'base.html' %}

{% block title %}PicStylist{% endblock %}
{% block title_suffix %}{% endblock %}

{% block content %}
  <h1>PicStylist</h1>
  <h2>Stylize Your Images With AI</h2>
  <div id="upload">
    {% if form.form_errors %}
      <ul>
        {% for error in form.form_errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    {% endif %}
    <form action="{{ url_for('index', _anchor='upload') }}" method="post" enctype="multipart/form-data">
      {{ form.csrf_token }}
      <div>
        {{ form.content_image.label }} {{ form.content_image }}
        {% if form.content_image.errors %}
          <ul>
            {% for error in form.content_image.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>
      <div>
        {{ form.style_image.label }} {{ form.style_image }}
        {% if form.style_image.errors %}
          <ul>
            {% for error in form.style_image.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>
      <div>
        {{ form.strength.label }} {{ form.strength }}
        {% if form.strength.errors %}
          <ul>
            {% for error in form.strength.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>
      <p>
        <i>
          {% for format in settings.ALLOWED_FORMATS %}
            {%- if not loop.first %}{% if loop.last %} or{% else %},{% endif %}{% endif %}
            <strong>{{ format }}</strong>
            {%- if loop.last %}.{% endif %}
          {%- endfor %}
          At most <strong>{{ settings.MAX_RESOLUTION_MP }} megapixels</strong> per image.
          Both files must not exceed <strong>{{ settings.MAX_UPLOAD_SIZE_MB }} MB</strong> in total.
        </i>
      </p>
      <input type="submit" value="Upload">
    </form>
  </div>
  <p><a href="{{ url_for('html', name='model') }}">How it works</a></p>
{% endblock %}
